<!DOCTYPE html>
<html>
<head>
  <title>event_test.html</title>
  <script src="bot-bootstrap.js"></script>
  <script>
  goog.require('goog.array');
  goog.require('goog.testing.jsunit');
  goog.require('goog.events.EventType');
  goog.require('bot.events');
  goog.require('bot.locators');
  </script>

  <script>
    MESSAGES = [];

    function log(message) {
      MESSAGES.push(message);
    }
  </script>
  
  <script>
  function testCanFireMoveEvent() {
    var e = bot.locators.findElement({id: 'x'});

    bot.events.fire(e, goog.events.EventType.MOUSEMOVE);

    assertTrue(goog.array.indexOf(MESSAGES, 'move') != -1);
  }

  function testCanFireFocusEvent() {
    var e = bot.locators.findElement({id: 'focus'});

    bot.events.fire(e, goog.events.EventType.FOCUS);

    assertTrue(goog.array.indexOf(MESSAGES, 'focus') != -1);
  }

  function testCanFireBlurEvent() {
    var e = bot.locators.findElement({id: 'blur'});

    bot.events.fire(e, goog.events.EventType.BLUR);

    assertTrue(goog.array.indexOf(MESSAGES, 'blur') != -1);
  }
  </script>

</head>
<body>
  <p id="x" onmousemove="log('move');">Move</p>
  <p id="focus" onfocus="log('focus');">Move</p>
  <p id="blur" onblur="log('blur');">Move</p>
</body>
</html>