<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>XPath help</title>

<style type="text/css">@import url(main.css);
@import url(wiki.css);
</style>
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
if (urchinTracker) {
_uacct = "UA-131794-2";
urchinTracker();
}
</script>
<script type="text/javascript">
function onLoadFunc() {
document.getElementById("content").style.minHeight = document.getElementById("menu").clientHeight + 'px';
}
</script></head>
<body onload="onLoadFunc()">
<script type="text/javascript" src="http://www.openqa.org/shared/projects/header-start.jsp?name=selenium"></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<script type="text/javascript" src="http://www.openqa.org/shared/projects/header-end.jsp?name=selenium"></script>
<div class="document" id="selenium-reference">
<div class="section" id="test-tables">
<h2>What is XPath&nbsp;</h2>
XPath is a small language that describes the pathc to parts of a web
page. &nbsp;Selenium can use it to click on things, change fields, or
assert against values of fields.<br />
</div>
<div class="section" id="command-reference">
<h2>XPath trial and error</h2>Brian Slesinsky has a great tool called <a href="http://slesinsky.org/brian/code/xpath_checker.html">XPath Checker</a> for Firefox. &nbsp;Its a plugin, that is well worth installing into Firefox. <br /><br />There is another, more well known plugin called <a href="https://addons.mozilla.org/en-US/firefox/addon/1843">Firebug</a>
for Firefox. It allows you to inspect a page at run time. &nbsp;With
the advent of AJAX web apps, there where a page structure is only
apparent at run time, then it is invaluable. Read more about Firebug at <a href="http://www.getfirebug.com/">its site</a>.<br /><br />It
would be great if the features of XPath checker were rolled into
Firebug! &nbsp;But for now, they are not so install them both into
Firefox if you evolving a test suite.<br /><br />Using the 'email' example of the <a href="http://code.google.com/webtoolkit/examples/">GWT sample applications</a>,
to illustrate the point, we have loaded it up and gone into firebug (below). &nbsp;Clicking
'Inspect'' (1) in Firebug's toolbar and clicking on a node in the page
(2) takes you to the relevant html that represents it (3). &nbsp;There
are some breadcrumbs that show where you are in the page (4)...... <br /><br /><img style="border: 1px solid ; width: 818px; height: 582px;" alt="firebug" src="images/firebug-1.png" /><br /><br />If you right-click on that breadcrumbs place, you can get to a menu that will give you xpath for it...<br /><br /><br /><img style="border: 1px solid ; width: 659px; height: 315px;" alt="firebug" src="images/firebug-2.jpg" /><br /><br />Using that menu, gives the following as the xpath for that node ...<br /><br />&nbsp;&nbsp;&nbsp; /html/body/table/tbody/tr[2]/td[2]/table/tbody/tr/td/table/tbody/tr[5]/td[2]<br /><br />Bug
that is too unweildy for use in a Selenium script. &nbsp;Use XPath
Checker to make it more concise. Shown here with the original long (and
ugly) Xpath locator for that node, finding exactly one matching node:<br /><br /><img style="width: 674px; height: 196px;" alt="ugly xpath" src="images/ugly.jpg" /><br />After
looking again at the node in Firebug,&nbsp;we can modify the XPath to
the following, and get closer, but have too many results:<br /><br /><img style="width: 660px; height: 216px;" alt="too many" src="images/toomany.jpg" /><br />&nbsp;<br />Here we try again, knowing that its array element 2 that were are interested in:<br /><br /><img style="width: 674px; height: 196px;" alt="offset" src="images/offset.jpg" /><br /><br />That.s
much better, but we may want to survive colum reordering. &nbsp;Perhaps
we knew the email address we were looking for in the first place:<br /><br /><img style="width: 674px; height: 196px;" alt="known email address" src="images/known.jpg" /><br />Or maybe we knew that it was an email address in that field, and could leverage the fact that all emails contain @ characters:<br /><br /><img style="width: 674px; height: 196px;" alt="contains @" src="images/contains-at.jpg" /><br />So
XPath checker allows us to play with Xpath expressions making them more
terse and resiliant to change. &nbsp;You can cut/paste them out of
XPath Checker and into your test scripts.<br /><br />Our advice is to use ID attrubutes where you can though:<br /><br /><img style="width: 378px; height: 208px;" alt="by id" src="images/by-id.jpg" /><br />This works great, except when the application you're testing has no ID attributes.<br /><br /></div></div>
<script type="text/javascript" src="http://www.openqa.org/shared/projects/footer.jsp?name=selenium"></script>
</body></html>