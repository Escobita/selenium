<!DOCTYPE html>
<html>
  <head>
    <title>style_test.html</title>
    <script src="../webdriver-bootstrap.js"></script>
    <script src="deps.js"></script>
    <script type="text/javascript">
      goog.require('bot.locators');
      goog.require('bot.style');
      goog.require('goog.testing.jsunit');
    </script>

    <script type="text/javascript">
      function testStyleAttributeReturnsCssText() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('visibility: inherit;', bot.dom.getAttribute(e, 'style'));
      }

      function testStyleAttributeReturnsWithTrailingSemicolon() {
        var e = bot.locators.findElement({id: 'parent'});
        assertEquals('visibility: visible;', bot.dom.getAttribute(e, 'style'));
      }

      function testInlineStyleReturnsNullForNonexistentProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertNull(bot.style.getInlineStyle(e, 'gibberish'));
      }

      function testInlineStyleReturnsEmptyStringForUnspecifiedProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('', bot.style.getInlineStyle(e, 'display'));
      }

      function testInlineStyleReturnsEmptyStringForCssSpecifiedProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('', bot.style.getInlineStyle(e, 'height'));
      }

      function testInlineStyleReturnsInlineProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('inherit', bot.style.getInlineStyle(e, 'visibility'));
      }

      function testEffectiveStyleReturnsInlineProperty() {
        var e = bot.locators.findElement({id: 'parent'});
        assertEquals('visible', bot.style.getEffectiveStyle(e, 'visibility'));
      }

      function testEffectiveStyleReturnsCssSpecifiedProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('20px', bot.style.getEffectiveStyle(e, 'height'));
      }

      function testEffectiveStyleReturnsInheritedProperty() {
        var e = bot.locators.findElement({id: 'child'});
        assertEquals('visible', bot.style.getEffectiveStyle(e, 'visibility'));
      }
    </script>

    <style type="text/css">
      #child {
        height: 20px
      }
      </style>
  </head>
  <body>

    <div id="parent" style="visibility: visible">A parent div
      <div id="child" style="visibility: inherit;display:;">A child div</div>
    </div>

  </body>
</html>
