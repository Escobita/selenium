
java_test(name = "test",
  srcs = [
    "InternalSelenseTestNgBase.java",
    "WaitTest.java",
    "WaitTestSuite.java",
    "SeleniumServerProxyTest.java",
    "SeleniumServerTestSuite.java",
  ],
  deps = [
    "//java/client/src/org/openqa/selenium:webdriver-backed-selenium",
    "//java/client/src/org/openqa/selenium/firefox",
    "//java/client/src/org/openqa/selenium/ie",
    "//java/server/src/org/openqa/selenium/server",
    "//java/server/test/org/openqa/selenium:server-with-tests:uber",
    "//java/client/test/com/thoughtworks/selenium/condition:test",
    "//java/client/test/org/openqa/selenium/v1:environment",
    "//third_party/java/guava-libraries",
    "//third_party/java/junit",
    "//third_party/java/testng",
  ])

java_library(name = "rc-tests",
   srcs = [
     "*.java",
   ],
   resources = [
     { "testHelpers.js" : "com/thoughtworks/selenium/testHelpers.js" }
   ],
   deps = [
     "//java/client/src/com/thoughtworks/selenium",
     "//java/server/src/org/openqa/selenium/server:server-with-tests:uber",
     "//java/client/test/com/thoughtworks/selenium/corebased",
     "//third_party/java/easymock",
   ])

java_test(name = "firefox-emulation-test",
  main = "org.testng.TestNG",
  deps = [
    ":rc-tests",
  ],
  sysproperties = [
    { "selenium.browser" : "org.openqa.selenium.firefox.FirefoxDriver" },
  ],
  args = "webdriver-selenium-suite.xml")

java_test(name = "ie-emulation-test",
  deps = [
    ":rc-tests",
  ],
  main = "org.testng.TestNG",
  sysproperties = [
    { "selenium.browser" : "org.openqa.selenium.ie.InternetExplorerDriver" },
  ],
  args = "webdriver-selenium-suite.xml")

java_test(name = "firefox-rc-test",
  deps = [
    ":rc-tests",
  ],
  main = "org.testng.TestNG",
  sysproperties = [
    { "selenium.browser" : "*firefox" },
  ],
  args = "testng.xml")

java_test(name = "ie-rc-test",
  deps = [
    ":rc-tests",
  ],
  main = "org.testng.TestNG",
  sysproperties = [
    { "selenium.browser" : "*iexplore" },
  ],
  args = "testng.xml")

java_test(name = "safari-rc-test",
  deps = [
    ":rc-tests",
  ],
  main = "org.testng.TestNG",
  sysproperties = [
    { "selenium.browser" : "*safari" },
  ],
  args = "testng.xml")

