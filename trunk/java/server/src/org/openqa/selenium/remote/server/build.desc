
# note that this server doesn't include the necessary drivers.

java_library(name = "server",
  resources = [
    ":resource",
  ],
  deps = [
    ":server_core",
    "//java/client/src/org/openqa/selenium:webdriver-api",
    "//java/client/src/org/openqa/selenium/ie",
    "//java/client/src/org/openqa/selenium/firefox",
  ])

folder(name = "resource",
  deps = [
    "//javascript/remote:client.js",
    "//javascript/remote:hub.html",
    "//javascript/remote:style.css"
  ],
  outs = [
    "resource/client.js",
    "resource/hub.html",
    "resource/style.css",
  ])

java_library(name = "server_core",
  srcs = [
    "CapabilitiesComparator.java",
    "DefaultDriverFactory.java",
    "DefaultDriverSessions.java",
    "DriverFactory.java",
    "DriverServlet.java",
    "DriverSessions.java",
    "HttpRequest.java",
    "HttpResponse.java",
    "HttpStatusCodes.java",
    "KnownElements.java",
    "JeeServletHttpRequest.java",
    "JeeServletHttpResponse.java",
    "JsonHttpRemoteConfig.java",
    "JsonParametersAware.java",
    "MimeType.java",
    "Session.java",
    "DefaultSession.java",
    "SessionCleaner.java",
    "SnapshotScreenListener.java",
    "WebbitHttpRequest.java",
    "WebbitHttpResponse.java",
    "handler/**/*.java",
    "renderer/*.java",
    "resource/StaticResource.java",
    "rest/*.java",
    "xdrpc/*.java",
  ],
  deps = [
    "//java/client/src/org/openqa/selenium:base",
    "//java/client/src/org/openqa/selenium:codecs",
    "//java/client/src/org/openqa/selenium:webdriver-api",
    "//java/client/src/org/openqa/selenium/logging",
    "//java/client/src/org/openqa/selenium/remote",
    "//java/client/src/org/openqa/selenium/support/events",
    "//java/server/src/org/openqa/selenium/server:logging",
    "//third_party/java/guava-libraries",
    "//third_party/java/json",
    "//third_party/java/servlet-api",
    "//third_party/java/webbit",
  ])
