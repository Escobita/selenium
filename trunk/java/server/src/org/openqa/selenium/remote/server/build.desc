
# note that this server doesn't include the necessary drivers.

java_library(name = "server",
  resources = [
    { "//javascript/remote:client" : "org/openqa/selenium/remote/server/resource/client.js" },
    { "//javascript/remote:hub" : "org/openqa/selenium/remote/server/resource/hub.html" },
    { "//javascript/remote:style" : "org/openqa/selenium/remote/server/resource/style.css" },
  ],
  deps = [
    ":server_core",
    "//java/client/src/org/openqa/selenium:webdriver-api",
    "//java/client/src/org/openqa/selenium/ie",
    "//java/client/src/org/openqa/selenium/firefox",
  ])

java_library(name = "server_core",
  srcs = [
    "CapabilitiesComparator.java",
    "DefaultDriverFactory.java",
    "DefaultDriverSessions.java",
    "DriverFactory.java",
    "DriverServlet.java",
    "DriverSessions.java",
    "HttpRequest.java",
    "HttpResponse.java",
    "KnownElements.java",
    "JeeServletHttpRequest.java",
    "JeeServletHttpResponse.java",
    "JsonParametersAware.java",
    "Session.java",
    "DefaultSession.java",
    "SessionCleaner.java",
    "SnapshotScreenListener.java",
    "handler/**/*.java",
    "renderer/*.java",
    "resource/StaticResource.java",
    "rest/*.java",
    "xdrpc/*.java",
  ],
  deps = [
    "//java/client/src/org/openqa/selenium:base",
    "//java/client/src/org/openqa/selenium:webdriver-api",
    "//java/client/src/org/openqa/selenium/internal:codecs",
    "//java/client/src/org/openqa/selenium/logging",
    "//java/client/src/org/openqa/selenium/remote",
    "//java/client/src/org/openqa/selenium/support/events",
    "//java/server/src/org/openqa/selenium/server:logging",
    "//third_party/java/guava-libraries",
    "//third_party/java/json",
    "//third_party/java/servlet-api",
  ])
