<!DOCTYPE html>

<html>

  <head>

    <title>javascript_frameworks_test</title>

    <script src="test_bootstrap.js"></script>

    <script>
      goog.require('bot.dom');
      goog.require('bot.action');
      goog.require('bot.locators');
      goog.require('goog.dom');
      goog.require('goog.testing.jsunit');
  </script>

    <script type="text/javascript" src="jquery-1.6.2.min.js"></script>
    <script type="text/javascript">
      $(document).ready(function () {
        $("#developer").change(onSelectChange);
      });

      function onSelectChange() {
        var selected = $("#developer option:selected");
        var output = "";
        if (selected.val() != -1) {
          output = selected.text();
        }
        $("#output").html(output);
      }
    </script>
  </head>

  <body>

    <script>
      function testShouldFireJavaScriptFrameworkChangeEventOnSelectOfOption() {
        var select = bot.locators.findElement({ id: 'developer' });
        var options = bot.locators.findElements({ tagName: 'option' }, select);
        bot.action.click(options[2]);
        var output = bot.locators.findElement({ id: 'output' });
        assertEquals(bot.dom.getVisibleText(output), 'Third Option');
      }

    </script>

    <h3>Developers</h3>
    <select id="developer">
      <option value="1" selected="selected">First Option</option>
      <option value="2">Second Option</option>
      <option value="3">Third Option</option>
      <option value="4">Fourth Option</option>
      <option value="5">Fifth Option</option>
    </select>
    <br /><br />
    <div id="output">
    </div>
  </body>

</html>
