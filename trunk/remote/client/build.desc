java_library(name = "client",
  srcs = [ "src/java/**/*.java" ],
  deps = [
           "//common",
           "//remote/common",
           "//third_party/java/apache-httpclient",
           "//third_party/java/cglib",
           "//third_party/java/commons-collections",
           "//third_party/java/commons-lang",
           "//third_party/java/commons-logging",
           "//third_party/java/commons-io"
         ])

java_test(name = "test",
  srcs = [ "test/java/**/*.java" ],
  deps = [
    ":client",
    "//common:test"
  ])

java_library(name = "combined",
  deps = [
    ":client",
    "//android/client",
    "//chrome",
    "//firefox",
    "//htmlunit",
    "//iphone",
    "//jobbie",
    "//selenium",
    "//support"
  ])

dotnet_library(name = "dotnet",
  srcs = "src/csharp/**/*.cs",
  refs = [
    "System.dll",
    "System.Data.dll",
    "System.Drawing.dll",
    "System.Xml.dll",
    "//common:dotnet",
    "//remote/common:dotnet",
    "third_party/csharp/json-net-3.5r6/Newtonsoft.Json.dll"
  ],
  out = "build/dotnet/WebDriver.Remote.dll",
  doc = "build/dotnet/WebDriver.Remote.xml"
)

dotnet_test(name = "dotnet-test",
  deps = [
    "//remote/server:server:uber"
  ],
  srcs = "test/csharp/**/*.cs",
  refs = [
    "System.dll",
    "System.Data.dll",
    "System.Drawing.dll",
    "System.Xml.dll",
    "//common:dotnet",
    "//remote/common:dotnet",
    ":dotnet",
    "//common:dotnet-test",
    "third_party/csharp/nunit-2.5.9/framework/nunit.framework.dll"
  ],
  out = "build/dotnet/webdriver-remote-test.dll",
  files = [
    "test/csharp/webdriver-remote-test/webdriver-remote-test.config",
    "test/csharp/webdriver-remote-test/webdriver-remote-test.nunit"
  ],
  project = "webdriver-remote-test.nunit"
)
