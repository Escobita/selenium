#summary Getting started with WebDriver
#labels Featured

= The 5 Minute Getting Started Guide =

Before you start:

 * CheckOut the latest version of the code, because there aren't any pre-packed binaries yet.
 * Follow the instructions in BuildingWebDriver.

Assuming that you've built everything and the source is located at {{{$WEBDRIVER_HOME}}}, and we're only going to use the HtmlUnitDriver to start with:

 * Start a new Java project in your favourite IDE
 * Add {{{$WEBDRIVER_HOME/common/build/webdriver-common.jar}}} to the {{{CLASSPATH}}}
 * Add {{{$WEBDRIVER_HOME/htmlunit/build/webdriver-htmlunit.jar}}} to the {{{CLASSPATH}}}
 * Add all the Jar files under {{{$WEBDRIVER_HOME/htmlunit/lib/runtime}}} to the {{{CLASSPATH}}}

We're now ready to write some code. Perhaps something that looks like:

{{{
package com.thoughtworks.webdriver.example;

import com.thoughtworks.webdriver.WebDriver;
import com.thoughtworks.webdriver.WebElement;
import com.thoughtworks.webdriver.htmlunit.HtmlUnitDriver;

public class Example  {
    public static void main(String[] args) {
        // Create a new instance of the html unit driver
        WebDriver driver = new HtmlUnitDriver();

        // And now use this to visit Google
        driver.get("http://www.google.com");

        // Find the text input element using a little XPath
        WebElement element = driver.selectElement("//input[@name='q']");

        // Enter something to search for
        element.setValue("Cheese!");

        // Now submit the form. WebDriver will find the form for us from the element
        element.submit();

        // Check the title of the page
        System.out.println("Page title is: " + driver.getTitle());
    }
}

}}}

Compile and run it. Congratulations, you've managed to get started with WebDriver!

Now let's try something that needs Javascript. Follow the instructions on the FirefoxDriver page in order to create a profile called "WebDriver" and install the WebDriver extension. Once that's done, create a new class called GoogleSuggest, which looks like:

{{{
package com.thoughtworks.webdriver.example;

import java.util.List;

import com.thoughtworks.webdriver.WebDriver;
import com.thoughtworks.webdriver.WebElement;
import com.thoughtworks.webdriver.firefox.FirefoxDriver;

public class GoogleSuggest {
    @SuppressWarnings("unchecked")
    public static void main(String[] args) throws Exception {
        // The Firefox driver supports javascript 
        WebDriver driver = new FirefoxDriver();
        
        // Go to the Google Suggest home page
        driver.get("http://www.google.com/webhp?complete=1&hl=en");
        
        // Enter the query string "I like cheese"
        WebElement query = driver.selectElement("//input[@name='q']");
        query.setValue("Cheese");

        // This should go at some point, but allows Google to return some suggestions for now
        Thread.sleep(2000);
        
        // And now list the suggestions
        WebElement allSuggestions = driver.selectElement("//div[@id='completeDiv']");
        
        // Each of the results is presented as a div with a span within a span, so this looks quite complex
        // The important point is that finding the suggestions is simple because we can grab the top
        // level element and just get hold of the immediate children with the appropriate tag name.
        List<WebElement> suggestions = allSuggestions.getChildrenOfType("div");
        for (WebElement suggestion : suggestions) {
            WebElement containingSpan = (WebElement) suggestion.getChildrenOfType("span").get(0);
            WebElement text = (WebElement) containingSpan.getChildrenOfType("span").get(0);
            System.out.println("Suggestion was: " + text.getText());
        };
    }
}
}}}

You'll see the list of suggestions being printed to the console. That's all there is to using WebDriver!