#summary The release process for a new selenium

<wiki:toc depth=2>

= For Everything =

  # Bump the revision numbers at the top of the Rakefile.
  # Bump the revision number in firefox's install.rdf.
  # Bump the revision number in "server/src/java/VERSION.txt" and "common/src/js/core/scripts/selenium-version.js"
  # Bump the revision number in the ChromeDriver's manifest.json files.
  # Commit version number bump.

= For Java =

  # Run `rake clean release`
  # Upload the new versions of the ZIP files from "build/dist" to the downloads page.
  # Add a subversion tag!
  # Update the docs. I do this on a UNIX variant:
    # `rake javadocs`
    # `find docs/api/java -name "*.html" | grep -v svn | xargs rm`
    # `cp -r build/javadoc/* docs/api/java`
    # `svn st docs/api/java | grep -v \! | awk '{print $2}' | xargs svn rm`
    # `svn st docs/api/java | grep -v \? | awk '{print $2}' | xargs svn add`
    # `find docs/api/java -name "*.html" | xargs svn ps "svn:mime-type" "text/html"`
    # Commit new docs


== Updating the Maven Repos ==

 # Prerequisite 1: Make sure Maven 2.2.1 and GnuPG are installed.
 # Prerequisite 2: Make sure your `~/.m2/settings.xml` contains the following lines in the `<servers>` section:
{{{
    <server>
        <id>sonatype-nexus-snapshots</id>
        <username>_your-username-for-oss.sonatype.org_</username>
        <password>_your-password_</password>
    </server>
    <server>
        <id>sonatype-nexus-staging</id>
        <username>_your-username-for-oss.sonatype.org_</username>
        <password>_your-password_</password>
    </server>
}}}
 # Prerequisite 3: Make sure your GnuPG public key is distributed to `hkp://pgp.mit.edu` 
 # Update the pom.xml files to reflect the dependencies as stated in the `build.desc` files.
 # Execute `mvn -Dtest=skip -DfailIfNoTests=false package` and make sure the jar files for each module in the target directory have the same content as the jar files produced by CrazyFun in the build directory. 
 # Update the version number in all pom.xml files (but do not check in those changes)
 # Execute `mvn clean source:jar javadoc:jar -Dtest=skip -DfailIfNoTests=false package -Dgpg.passphrase=_your-GnuPG-key-passphrase_ gpg:sign deploy`
 # Goto http://oss.sonatype.org, log in, close the staging repository, and promote it to the releases repository.

= For .NET =

  # Run `rake clean dotnet`
  # If you want to create docs and have the correct tools installed, run `msbuild rake-tasks\msbuild\webdriver.msbuild.proj /t:BuildDocs`. This will create WebDriver.chm in the build/dotnet directory.
  # Zip up the build/dotnet directory (do not include subdirectories)
  # Upload the ZIP file to the downloads page.

= For Ruby =

== selenium-webdriver ==

 # Release gem, replace A.B.C with the appropriate version. You will need to be registered as a gem owner on rubygems.org.
  # `rake gem:release VERSION=A.B.C`
 # Update docs
  # `rake rubydocs`
  # `cp -r build/rubydocs/* docs/api/rb`
  # Commit new docs.

= Areas to Improve =

  * We should really automate the version number bumps.